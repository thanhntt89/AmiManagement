<?xml version="1.0" encoding="utf-8"?>
<xs:schema id="DataByDcuCodeDataSet" targetNamespace="http://tempuri.org/DataByDcuCodeDataSet.xsd" xmlns:mstns="http://tempuri.org/DataByDcuCodeDataSet.xsd" xmlns="http://tempuri.org/DataByDcuCodeDataSet.xsd" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:msdata="urn:schemas-microsoft-com:xml-msdata" xmlns:msprop="urn:schemas-microsoft-com:xml-msprop" attributeFormDefault="qualified" elementFormDefault="qualified">
  <xs:annotation>
    <xs:appinfo source="urn:schemas-microsoft-com:xml-msdatasource">
      <DataSource DefaultConnectionIndex="0" FunctionsComponentName="QueriesTableAdapter" Modifier="AutoLayout, AnsiClass, Class, Public" SchemaSerializationMode="IncludeSchema" xmlns="urn:schemas-microsoft-com:xml-msdatasource">
        <Connections>
          <Connection AppSettingsObjectName="Settings" AppSettingsPropertyName="AmiSystemConnectionString" ConnectionStringObject="" IsAppSettingsProperty="true" Modifier="Assembly" Name="AmiSystemConnectionString (Settings)" ParameterPrefix="@" PropertyReference="ApplicationSettings.OperationDTO.Properties.Settings.GlobalReference.Default.AmiSystemConnectionString" Provider="System.Data.SqlClient" />
        </Connections>
        <Tables>
          <TableAdapter BaseClass="System.ComponentModel.Component" DataAccessorModifier="AutoLayout, AnsiClass, Class, Public" DataAccessorName="DataByDcuCodeTableAdapter" GeneratorDataComponentClassName="DataByDcuCodeTableAdapter" Name="DataByDcuCode" UserDataComponentName="DataByDcuCodeTableAdapter">
            <MainSource>
              <DbSource ConnectionRef="AmiSystemConnectionString (Settings)" DbObjectType="Unknown" FillMethodModifier="Public" FillMethodName="FillIdByDcuCode" GenerateMethods="Both" GenerateShortCommands="false" GeneratorGetMethodName="GetData" GeneratorSourceName="FillIdByDcuCode" GetMethodModifier="Public" GetMethodName="GetData" QueryType="Rowset" ScalarCallRetval="System.Object, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" UseOptimisticConcurrency="false" UserGetMethodName="GetData" UserSourceName="FillIdByDcuCode">
                <SelectCommand>
                  <DbCommand CommandType="Text" ModifiedByUser="true">
                    <CommandText>SELECT top 1  DataConcentratorUnit.Id as IdDcu ,   MeasurementPointMeter.MeasurementPointMeterId, MeasurementPoint.Id as MeasurementPointId, Meter.Id as MeterId, Customer.Id as CustomerId
FROM            DataConcentratorUnit INNER JOIN
                         MeasurementPoint ON DataConcentratorUnit.Id = MeasurementPoint.DcuId INNER JOIN
                         MeasurementPointMeter ON MeasurementPoint.Id = MeasurementPointMeter.MeasurementPointId INNER JOIN
                         Meter ON MeasurementPointMeter.MeterId = Meter.Id Inner join 
Customer on Customer.Id = MeasurementPointMeter.CustomerId
WHERE        (DataConcentratorUnit.DcuId = @dcuId) and MeasurementPoint.Type =1 and MeasurementPointMeter.IsDeleted = 0</CommandText>
                    <Parameters>
                      <Parameter AllowDbNull="false" AutogeneratedName="dcuId" ColumnName="DcuId" DataSourceName="AmiSystem.dbo.DataConcentratorUnit" DataTypeServer="varchar(20)" DbType="AnsiString" Direction="Input" ParameterName="@dcuId" Precision="0" ProviderType="VarChar" Scale="0" Size="20" SourceColumn="DcuId" SourceColumnNullMapping="false" SourceVersion="Current" />
                    </Parameters>
                  </DbCommand>
                </SelectCommand>
              </DbSource>
            </MainSource>
            <Mappings>
              <Mapping SourceColumn="MeasurementPointMeterId" DataSetColumn="MeasurementPointMeterId" />
              <Mapping SourceColumn="MeterId" DataSetColumn="MeterId" />
              <Mapping SourceColumn="CustomerId" DataSetColumn="CustomerId" />
              <Mapping SourceColumn="MeasurementPointId" DataSetColumn="MeasurementPointId" />
              <Mapping SourceColumn="IdDcu" DataSetColumn="IdDcu" />
            </Mappings>
            <Sources />
          </TableAdapter>
          <TableAdapter BaseClass="System.ComponentModel.Component" DataAccessorModifier="AutoLayout, AnsiClass, Class, Public" DataAccessorName="CheckMeasurementPointDataSetTableAdapters" GeneratorDataComponentClassName="CheckMeasurementPointDataSetTableAdapters" Name="CheckMeasurementPointDataTable" UserDataComponentName="CheckMeasurementPointDataSetTableAdapters">
            <MainSource>
              <DbSource ConnectionRef="AmiSystemConnectionString (Settings)" DbObjectType="Unknown" FillMethodModifier="Public" FillMethodName="FillDataByDcuCode" GenerateMethods="Fill" GenerateShortCommands="false" GeneratorSourceName="FillDataByDcuCode" QueryType="Rowset" ScalarCallRetval="System.Object, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" UseOptimisticConcurrency="false" UserGetMethodName="GetData" UserSourceName="FillDataByDcuCode">
                <SelectCommand>
                  <DbCommand CommandType="Text" ModifiedByUser="true">
                    <CommandText>SELECT        DataConcentratorUnit.DcuId, Meter.MeterId, MeterType.MeterTypeId, MeasurementPoint.MeasurementPointId AS MeasuremntPointCode, MeasurementPoint.Name, 
                         MeasurementPointGroup.Name AS GroupName, MeasurementPoint.IsDeleted AS MpIsDeleted, MeasurementPointMeter.IsDeleted AS MpmIsDeleted, 
                         CASE WHEN MeasurementPointMeter.StartDate IS NULL THEN '' ELSE MeasurementPointMeter.StartDate END AS StartDate, 
                         CASE WHEN MeasurementPoint.EditedDate IS NULL THEN '' ELSE MeasurementPoint.EditedDate END AS EditedDate, 
                         CASE WHEN DataConcentratorUnit.ConnectionStatus IS NULL THEN '' ELSE DataConcentratorUnit.ConnectionStatus END AS ConnectionStatus, 
                         MeasurementPoint.Id AS MeasurementPointId
FROM            DataConcentratorUnit INNER JOIN
                         MeasurementPoint ON DataConcentratorUnit.Id = MeasurementPoint.DcuId INNER JOIN
                         MeasurementPointGroup ON MeasurementPoint.MeasurementPointGroupId = MeasurementPointGroup.Id INNER JOIN
                         MeasurementPointMeter ON MeasurementPoint.Id = MeasurementPointMeter.MeasurementPointId INNER JOIN
                         Meter ON MeasurementPointMeter.MeterId = Meter.Id INNER JOIN
                         MeterType ON Meter.MeterTypeId = MeterType.Id
WHERE        (DataConcentratorUnit.DcuId LIKE '%' + @dcuId +'%') AND (MeasurementPoint.Type = 1) AND (MeasurementPointMeter.IsDeleted = 0) AND 
                         (MeasurementPointMeter.Status = 1) AND (MeasurementPoint.IsDeleted = 0)</CommandText>
                    <Parameters>
                      <Parameter AllowDbNull="false" AutogeneratedName="dcuId" ColumnName="DcuId" DataSourceName="AmiSystem.dbo.DataConcentratorUnit" DataTypeServer="varchar(20)" DbType="AnsiString" Direction="Input" ParameterName="@dcuId" Precision="0" ProviderType="VarChar" Scale="0" Size="20" SourceColumn="DcuId" SourceColumnNullMapping="false" SourceVersion="Current" />
                    </Parameters>
                  </DbCommand>
                </SelectCommand>
              </DbSource>
            </MainSource>
            <Mappings>
              <Mapping SourceColumn="DcuId" DataSetColumn="DcuId" />
              <Mapping SourceColumn="MeterId" DataSetColumn="MeterId" />
              <Mapping SourceColumn="MeterTypeId" DataSetColumn="MeterTypeId" />
              <Mapping SourceColumn="Name" DataSetColumn="Name" />
              <Mapping SourceColumn="GroupName" DataSetColumn="GroupName" />
              <Mapping SourceColumn="MpIsDeleted" DataSetColumn="MpIsDeleted" />
              <Mapping SourceColumn="MpmIsDeleted" DataSetColumn="MpmIsDeleted" />
              <Mapping SourceColumn="StartDate" DataSetColumn="StartDate" />
              <Mapping SourceColumn="EditedDate" DataSetColumn="EditedDate" />
              <Mapping SourceColumn="ConnectionStatus" DataSetColumn="ConnectionStatus" />
              <Mapping SourceColumn="MeasuremntPointCode" DataSetColumn="MeasuremntPointCode" />
              <Mapping SourceColumn="MeasurementPointId" DataSetColumn="MeasurementPointId" />
            </Mappings>
            <Sources />
          </TableAdapter>
        </Tables>
        <Sources />
      </DataSource>
    </xs:appinfo>
  </xs:annotation>
  <xs:element name="DataByDcuCodeDataSet" msdata:IsDataSet="true" msdata:UseCurrentLocale="true" msprop:EnableTableAdapterManager="true" msprop:Generator_DataSetName="DataByDcuCodeDataSet" msprop:Generator_UserDSName="DataByDcuCodeDataSet">
    <xs:complexType>
      <xs:choice minOccurs="0" maxOccurs="unbounded">
        <xs:element name="DataByDcuCode" msprop:Generator_TableClassName="DataByDcuCodeDataTable" msprop:Generator_TableVarName="tableDataByDcuCode" msprop:Generator_TablePropName="DataByDcuCode" msprop:Generator_RowDeletingName="DataByDcuCodeRowDeleting" msprop:Generator_RowChangingName="DataByDcuCodeRowChanging" msprop:Generator_RowEvHandlerName="DataByDcuCodeRowChangeEventHandler" msprop:Generator_RowDeletedName="DataByDcuCodeRowDeleted" msprop:Generator_UserTableName="DataByDcuCode" msprop:Generator_RowChangedName="DataByDcuCodeRowChanged" msprop:Generator_RowEvArgName="DataByDcuCodeRowChangeEvent" msprop:Generator_RowClassName="DataByDcuCodeRow">
          <xs:complexType>
            <xs:sequence>
              <xs:element name="MeasurementPointMeterId" msdata:ReadOnly="true" msdata:AutoIncrement="true" msdata:AutoIncrementSeed="-1" msdata:AutoIncrementStep="-1" msprop:Generator_ColumnVarNameInTable="columnMeasurementPointMeterId" msprop:Generator_ColumnPropNameInRow="MeasurementPointMeterId" msprop:Generator_ColumnPropNameInTable="MeasurementPointMeterIdColumn" msprop:Generator_UserColumnName="MeasurementPointMeterId" type="xs:long" />
              <xs:element name="MeterId" msdata:ReadOnly="true" msdata:AutoIncrement="true" msdata:AutoIncrementSeed="-1" msdata:AutoIncrementStep="-1" msprop:Generator_ColumnVarNameInTable="columnMeterId" msprop:Generator_ColumnPropNameInRow="MeterId" msprop:Generator_ColumnPropNameInTable="MeterIdColumn" msprop:Generator_UserColumnName="MeterId" type="xs:long" />
              <xs:element name="CustomerId" msdata:ReadOnly="true" msdata:AutoIncrement="true" msdata:AutoIncrementSeed="-1" msdata:AutoIncrementStep="-1" msprop:Generator_ColumnVarNameInTable="columnCustomerId" msprop:Generator_ColumnPropNameInRow="CustomerId" msprop:Generator_ColumnPropNameInTable="CustomerIdColumn" msprop:Generator_UserColumnName="CustomerId" type="xs:long" />
              <xs:element name="MeasurementPointId" msdata:ReadOnly="true" msdata:AutoIncrement="true" msdata:AutoIncrementSeed="-1" msdata:AutoIncrementStep="-1" msprop:Generator_ColumnVarNameInTable="columnMeasurementPointId" msprop:Generator_ColumnPropNameInRow="MeasurementPointId" msprop:Generator_ColumnPropNameInTable="MeasurementPointIdColumn" msprop:Generator_UserColumnName="MeasurementPointId" type="xs:long" />
              <xs:element name="IdDcu" msdata:ReadOnly="true" msdata:AutoIncrement="true" msdata:AutoIncrementSeed="-1" msdata:AutoIncrementStep="-1" msprop:Generator_ColumnVarNameInTable="columnIdDcu" msprop:Generator_ColumnPropNameInRow="IdDcu" msprop:Generator_ColumnPropNameInTable="IdDcuColumn" msprop:Generator_UserColumnName="IdDcu" type="xs:long" />
            </xs:sequence>
          </xs:complexType>
        </xs:element>
        <xs:element name="CheckMeasurementPointDataTable" msprop:Generator_TableClassName="CheckMeasurementPointDataTableDataTable" msprop:Generator_TableVarName="tableCheckMeasurementPointDataTable" msprop:Generator_TablePropName="CheckMeasurementPointDataTable" msprop:Generator_RowDeletingName="CheckMeasurementPointDataTableRowDeleting" msprop:Generator_RowChangingName="CheckMeasurementPointDataTableRowChanging" msprop:Generator_RowEvHandlerName="CheckMeasurementPointDataTableRowChangeEventHandler" msprop:Generator_RowDeletedName="CheckMeasurementPointDataTableRowDeleted" msprop:Generator_UserTableName="CheckMeasurementPointDataTable" msprop:Generator_RowChangedName="CheckMeasurementPointDataTableRowChanged" msprop:Generator_RowEvArgName="CheckMeasurementPointDataTableRowChangeEvent" msprop:Generator_RowClassName="CheckMeasurementPointDataTableRow">
          <xs:complexType>
            <xs:sequence>
              <xs:element name="DcuId" msprop:Generator_ColumnVarNameInTable="columnDcuId" msprop:Generator_ColumnPropNameInRow="DcuId" msprop:Generator_ColumnPropNameInTable="DcuIdColumn" msprop:Generator_UserColumnName="DcuId">
                <xs:simpleType>
                  <xs:restriction base="xs:string">
                    <xs:maxLength value="20" />
                  </xs:restriction>
                </xs:simpleType>
              </xs:element>
              <xs:element name="MeterId" msprop:Generator_ColumnVarNameInTable="columnMeterId" msprop:Generator_ColumnPropNameInRow="MeterId" msprop:Generator_ColumnPropNameInTable="MeterIdColumn" msprop:Generator_UserColumnName="MeterId">
                <xs:simpleType>
                  <xs:restriction base="xs:string">
                    <xs:maxLength value="20" />
                  </xs:restriction>
                </xs:simpleType>
              </xs:element>
              <xs:element name="MeterTypeId" msprop:Generator_ColumnVarNameInTable="columnMeterTypeId" msprop:Generator_ColumnPropNameInRow="MeterTypeId" msprop:Generator_ColumnPropNameInTable="MeterTypeIdColumn" msprop:Generator_UserColumnName="MeterTypeId">
                <xs:simpleType>
                  <xs:restriction base="xs:string">
                    <xs:maxLength value="20" />
                  </xs:restriction>
                </xs:simpleType>
              </xs:element>
              <xs:element name="Name" msprop:Generator_ColumnVarNameInTable="columnName" msprop:Generator_ColumnPropNameInRow="Name" msprop:Generator_ColumnPropNameInTable="NameColumn" msprop:Generator_UserColumnName="Name">
                <xs:simpleType>
                  <xs:restriction base="xs:string">
                    <xs:maxLength value="250" />
                  </xs:restriction>
                </xs:simpleType>
              </xs:element>
              <xs:element name="GroupName" msprop:Generator_ColumnVarNameInTable="columnGroupName" msprop:Generator_ColumnPropNameInRow="GroupName" msprop:Generator_ColumnPropNameInTable="GroupNameColumn" msprop:Generator_UserColumnName="GroupName">
                <xs:simpleType>
                  <xs:restriction base="xs:string">
                    <xs:maxLength value="250" />
                  </xs:restriction>
                </xs:simpleType>
              </xs:element>
              <xs:element name="MpIsDeleted" msprop:Generator_ColumnVarNameInTable="columnMpIsDeleted" msprop:Generator_ColumnPropNameInRow="MpIsDeleted" msprop:Generator_ColumnPropNameInTable="MpIsDeletedColumn" msprop:Generator_UserColumnName="MpIsDeleted" type="xs:boolean" />
              <xs:element name="MpmIsDeleted" msprop:Generator_ColumnVarNameInTable="columnMpmIsDeleted" msprop:Generator_ColumnPropNameInRow="MpmIsDeleted" msprop:Generator_ColumnPropNameInTable="MpmIsDeletedColumn" msprop:Generator_UserColumnName="MpmIsDeleted" type="xs:boolean" />
              <xs:element name="StartDate" msdata:ReadOnly="true" msprop:Generator_ColumnVarNameInTable="columnStartDate" msprop:Generator_ColumnPropNameInRow="StartDate" msprop:Generator_ColumnPropNameInTable="StartDateColumn" msprop:Generator_UserColumnName="StartDate" type="xs:dateTime" minOccurs="0" />
              <xs:element name="EditedDate" msdata:ReadOnly="true" msprop:Generator_ColumnVarNameInTable="columnEditedDate" msprop:Generator_ColumnPropNameInRow="EditedDate" msprop:Generator_ColumnPropNameInTable="EditedDateColumn" msprop:Generator_UserColumnName="EditedDate" type="xs:dateTime" minOccurs="0" />
              <xs:element name="ConnectionStatus" msdata:ReadOnly="true" msprop:Generator_ColumnVarNameInTable="columnConnectionStatus" msprop:Generator_ColumnPropNameInRow="ConnectionStatus" msprop:Generator_ColumnPropNameInTable="ConnectionStatusColumn" msprop:Generator_UserColumnName="ConnectionStatus" type="xs:int" minOccurs="0" />
              <xs:element name="MeasuremntPointCode" msprop:Generator_ColumnVarNameInTable="columnMeasuremntPointCode" msprop:Generator_ColumnPropNameInRow="MeasuremntPointCode" msprop:Generator_ColumnPropNameInTable="MeasuremntPointCodeColumn" msprop:Generator_UserColumnName="MeasuremntPointCode" minOccurs="0">
                <xs:simpleType>
                  <xs:restriction base="xs:string">
                    <xs:maxLength value="20" />
                  </xs:restriction>
                </xs:simpleType>
              </xs:element>
              <xs:element name="MeasurementPointId" msdata:ReadOnly="true" msdata:AutoIncrement="true" msdata:AutoIncrementSeed="-1" msdata:AutoIncrementStep="-1" msprop:Generator_ColumnVarNameInTable="columnMeasurementPointId" msprop:Generator_ColumnPropNameInRow="MeasurementPointId" msprop:Generator_ColumnPropNameInTable="MeasurementPointIdColumn" msprop:Generator_UserColumnName="MeasurementPointId" type="xs:long" />
            </xs:sequence>
          </xs:complexType>
        </xs:element>
      </xs:choice>
    </xs:complexType>
    <xs:unique name="Constraint1" msdata:PrimaryKey="true">
      <xs:selector xpath=".//mstns:DataByDcuCode" />
      <xs:field xpath="mstns:IdDcu" />
      <xs:field xpath="mstns:MeasurementPointMeterId" />
      <xs:field xpath="mstns:MeasurementPointId" />
      <xs:field xpath="mstns:MeterId" />
      <xs:field xpath="mstns:CustomerId" />
    </xs:unique>
  </xs:element>
</xs:schema>